import { useRouter } from 'next/router'

const stages = [
  'm 340.84375,53.694357 -13.08649,26.35714 -24.76215,53.987903 -22.31263,53.52829 -7.75892,12.05831 6.65247,4.30872 10.94898,0.69613 0.46866,-5.23852 -7.23376,-1.82924 2.74149,-4.4809 22.11969,-53.48661 22.55357,-48.835103 13.32896,-27.5505 14.75307,20.75139 12.9668,15.40039 11.04046,8.792423 14.06222,4.25223 10.06306,40.06975 15.23075,48.09682 0.488,8.56753 -1.81929,47.18086 -2.51642,43.32266 -3.04413,34.51328 1.51522,29.3824 1.64024,15.92852 7.79844,19.87422 11.82343,22.65585 16.24726,27.42735 6.51291,14.55548 6.6977,14.70473 3.82261,18.51365 v 11.61675 l -0.49805,16.33751 -0.50977,25.20097 1.03595,24.43459 3.37948,20.81679 11.45996,35.66327 11.1582,34.50389 14.50919,36.78264 28.96425,-8.20448 40.07812,-5.00976 42.46484,-3.67579 11.50782,40.70118 30.24107,107.27399 19.68694,67.40653 18.32087,65.2461 -29.10463,11.82617 -33.41043,9.613 -22.3259,6.43583 -27.01088,0.649 -5.83928,15.61851 33.28487,0.8784 27.99693,-7.8853 36.05051,-11.06418 34.6529,-14.37584 -22.62305,-79.79799 -18.99414,-67.8418 -31.31641,-106.75 -13.74414,-48.60938 -50.88867,4.4043 -40.73438,5.0918 -14.47247,3.66484 -16.80526,-41.25389 -8.79161,-29.38535 -8.23284,-28.88777 -2.75501,-16.79436 -0.59934,-23.22879 0.85911,-27.25921 -0.55776,-19.63839 -2.12361,-17.86049 -4.45842,-14.79354 -7.05748,-15.00781 -7.38672,-13.63504 -13.96708,-25.45424 -12.51143,-24.40792 -5.83985,-17.47015 -1.86468,-13.63086 0.35714,-25.04911 1.97796,-30.69782 2.32282,-45.60213 2.2475,-43.86829 -7.54324,-0.0901 -0.5533,-15.15233 -28.25977,-94.4375 -10.7659,-2.54659 -10.23857,-4.826743 -13.90513,-15.5212 -21.58315,-30.94559 z',
  'm 585.91351,1010.5443 -0.28909,8.0023 5.42676,55.1798 12.34726,35.5553 22.34821,54.8448 13.06697,30.9855 11.85016,30.8703 -0.79492,26.7941 14.13895,23.7156 10.59571,16.6524 8.4375,-5.3692 -9.72433,-16.8621 -7.72852,-11.1638 1.46038,-35.4752 -12.29688,-35.6953 -15.48102,-36.6752 -15.01591,-31.8761 -16.50808,-48.9689 -5.43125,-51.5171 1.72931,-8.7927 z',
  'm 683.2789,1288.1524 -8.78622,4.7399 22.20654,29.0568 17.06338,19.998 16.08115,14.1485 10.88477,6.5312 29.98939,8.7291 4.29654,-14.5182 16.93114,2.0882 32.86496,7.1482 11.90094,1.3638 19.14621,-6.3864 -1.46624,-5.3499 -17.82087,5.4392 -8.88867,-1.8396 -34.81669,-7.356 -27.101,-4.1465 -2.72035,9.8086 -17.33372,-4.7147 -9.19014,-5.9686 -14.73096,-11.9886 -17.4082,-19.3984 z',
  'm 913.04632,602.75518 -2.95871,9.57366 -12.94141,19.37444 -14.75893,23.7327 -12.71735,26.66044 -9.28069,31.23856 -6.00028,29.10854 -11.14816,56.17662 -5.74581,19.24916 -18.0985,46.5784 -19.69391,54.52903 -1.01869,7.97683 5.9746,7.24526 6.8284,17.04966 16.32338,5.53879 21.685,4.30608 28.66936,3.67551 34.05497,4.01897 28.55552,4.73437 20.60882,6.34542 17.84013,10.18695 17.66515,15.92683 10.84659,14.6476 8.6724,17.4308 4.7816,16.3195 1.539,14.5494 -1.1604,21.4157 -7.4029,23.7816 -11.6616,30.9076 -8.17629,30.1755 -15.18838,62.901 -3.18387,7.7985 -15.64593,1.0162 -17.25251,7.9015 -9.77065,6.9222 -12.34068,11.5851 -14.56808,13.4986 -21.66602,23.9874 -7.66016,13.233 -8.4573,15.147 -6.51814,9.1061 -7.7779,7.546 1.7592,5.0541 8.44588,-6.2946 8.17745,-8.4384 9.60101,-17.5915 8.26367,-14.0976 16.11691,-17.5455 15.67494,-16.0321 10.25,-9.5089 14.00586,-7.6392 15.59654,-6.7152 16.38282,-0.5293 12.73145,-4.5357 5.94569,-10.25 6.51589,-38.9322 6.7975,-29.6579 16.8663,-48.9459 10.2849,-33.6998 1.1038,-20.1063 -1.4394,-19.159 -5.9727,-20.101 -7.8359,-16.4319 -11.3761,-16.84989 -26.68253,-24.19476 -20.1875,-10.24553 -19.42495,-5.77121 -27.41546,-3.76451 -30.34878,-5.07281 -28.19196,-3.45201 -25.5731,-4.19281 -15.40346,-4.62249 -1.1303,-5.29827 -3.05999,-6.72126 5.91295,-19.20173 14.30552,-34.98075 19.03627,-48.8443 5.54409,-22.18416 11.08091,-56.12249 5.70842,-26.5798 8.66268,-26.85798 11.98995,-27.47154 12.28516,-18.45731 14.57226,-21.0318 5.3019,-17.17495 z',
  'm 931.08594,286.99988 -37.71596,3.60128 -37.89649,3.93276 -36.39732,6.8351 -25.69643,6.28571 2.16992,10.29744 29.83846,-6.21345 32.35211,-6.19978 36.9255,-4.10351 37.10575,-4.43555 h 34.74945 l 0.26534,22.81781 0.53571,59.37053 -3.14732,33.21429 -6.50195,31.83789 -9.08315,34.93191 -11.87737,37.68806 -7.9488,31.61663 -15.48381,53.9428 15.89882,3.14215 14.91647,-51.10894 10.62248,-39.09808 10.97963,-36.24093 8.95146,-35.60435 5.9986,-28.69755 3.28209,-36.42941 0.17857,-58.66378 -0.0921,-32.36189 z',
  'm 334.69281,46.020247 -15.37807,30.97433 -16.96011,37.886713 -11.0731,24.64956 -9.83119,24.12863 -7.66686,19.91546 -11.71,17.87523 5.75488,4.09459 8.2604,4.37406 14.19504,0.58597 0.24121,-5.87394 -10.94898,-0.69613 -6.65247,-4.30872 7.75892,-12.05831 10.72432,-26.69309 12.31167,-28.36941 11.06919,-24.2807 13.30804,-29.254463 12.74805,-25.27567 6.22628,-2.98856 21.58315,30.94559 13.90513,15.5212 10.23857,4.826743 10.7659,2.54659 13.96401,49.05971 9.39146,30.67857 4.9043,14.69922 0.67271,15.18527 11.08482,0.3351 20.23828,-0.7168 21.01144,0.52706 21.66867,7.65653 22.0258,8.01368 17.93304,10.27734 16.59738,19.61719 8.21456,15.19893 15.86942,25.69755 12.43834,12.82784 12.59487,10.64286 14.9746,8.55665 13.39649,5.35937 11.54297,2.19727 h 15.18164 l 20.63672,-0.51563 21.4495,-2.7048 30.7592,-6.34179 35.92356,-8.33678 19.42047,-4.31892 -2.24526,-10.4174 -19.55719,4.71121 -37.33817,8.94754 -25.98131,5.00977 -23.42299,3.47266 -19.76953,0.49414 h -12.32562 l -11.09849,-2.73466 -12.21456,-5.63504 -12.77484,-6.89119 -11.23493,-9.14341 -11.86105,-11.95006 -13.30218,-21.36663 -10.74302,-18.15987 -12.15234,-16.27511 -10.81641,-10.79353 -23.77777,-10.29102 -37.17061,-13.32673 -23.98912,-0.007 -20.11719,0.71289 -4.09542,-0.0226 -0.21875,-7.13784 -6.52651,-21.37276 -8.46624,-29.14314 -8.53459,-29.51033 -5.12779,-18.704793 -22.97489,-7.13533 -11.09515,-11.6222 -26.45313,-37.26926 z'
]

const anim_paths = [
  'm 290.71429,202 c -8.00612,-0.75528 -10.11901,-0.96982 -9.95668,-5.27049 0.135,-2.09254 1.89688,-4.80802 2.81382,-6.6938 2.25252,-4.63253 3.91286,-9.53032 5.89286,-14.28571 4.9843,-11.97084 9.80795,-24.01066 15,-35.89286 4.85025,-11.09998 10.05928,-22.03976 15.12272,-33.04413 4.69153,-10.196094 9.36055,-20.402943 14.14214,-30.557112 2.71066,-5.756351 4.65491,-10.187612 7.61947,-15.029736 5.67023,-6.130211 10.99365,5.523785 14.85642,11.241664 3.21822,4.675122 6.32111,9.443501 9.84899,13.889598 2.62924,3.31356 5.53534,6.414023 8.5863,9.343911 2.26631,2.176379 4.67631,4.242116 7.3236,5.934645 2.52176,1.61227 5.25832,2.91938 8.08122,3.91434 2.35114,0.82868 5.04659,0.50047 7.32361,1.51523 1.71801,0.76564 3.51483,1.9495 4.29315,3.6618 1.64356,3.61584 1.68834,7.7635 2.65165,11.61676 1.94118,7.76471 3.91052,15.52412 6.06091,23.23351 1.8067,6.47722 3.90671,12.86918 5.80838,19.31916 2.18108,7.3977 4.23587,14.83241 6.43972,22.22336 1.24769,4.18433 3.01678,8.2275 3.91434,12.50064 1.04632,4.98137 1.26783,10.10089 1.89404,15.15229 0.63649,5.13431 1.76438,10.23284 1.89404,15.40482 0.25008,9.97532 -0.32791,19.95657 -0.75762,29.92577 -0.41223,9.56363 -1.12852,19.11193 -1.76777,28.66308 -0.79182,11.83065 -1.82583,23.64514 -2.52538,35.48161 -0.35284,5.97002 -0.66781,11.94988 -0.63134,17.93021 0.0478,7.83408 0.0717,15.69403 0.88388,23.48604 0.53914,5.1724 1.62736,10.30811 3.15673,15.27856 1.85033,6.01358 4.28727,11.84838 6.9448,17.5514 3.11741,6.68991 6.85072,13.07557 10.35406,19.57171 4.8727,9.03532 10.01599,17.92507 14.77348,27.02158 4.33558,8.28978 9.02222,16.44317 12.50064,25.12754 2.81823,7.03612 4.73856,14.43044 6.31345,21.84455 1.17052,5.51047 -0.0634,17.72671 -0.12627,23.35978 -0.15156,13.57424 -0.1147,20.5111 -0.51508,34.08028 -0.20728,7.02479 -0.0498,14.08525 0.71429,21.07143 0.90652,8.28815 2.19721,16.57108 4.28571,24.64285 2.32925,9.00222 6.13306,17.56006 8.92857,26.42857 4.11023,13.03936 7.54196,26.2892 11.78572,39.28572 3.37808,10.34537 7.40288,22.58431 13.21429,31.78571 1.93029,3.05629 4.81426,3.37036 8.21428,2.14286 5.97173,-2.15595 9.82878,-3.98204 15,-5 10.0113,-1.97073 20.21823,-2.78293 30.35714,-3.92857 17.72827,-1.87836 34.37953,-5.14202 50,-5.71429 2.39485,-0.0673 5.62474,0.95738 6.42857,3.21429 8.72362,24.49324 14.26696,50.00537 21.42858,75 6.62802,23.13232 13.34535,46.23906 19.94034,69.38082 6.28109,22.0403 12.34889,44.14127 18.68782,66.165 6.7932,23.60202 15.552,46.69782 20.70813,70.71067 0.84014,3.91266 0.37312,9.51191 -3.03046,11.61676 -27.21936,10.47849 -60.67058,21.99734 -86.87312,26.26398 -9.82822,1.5261 -19.86633,-1.0101 -29.7995,-1.5152',
  'm 594.64285,1010.2143 c 0,3.8095 -0.26514,7.6283 0,11.4286 1.16423,16.6872 0.68158,33.6651 4.28572,50 3.83728,17.3915 11.335,33.7845 17.85714,50.3571 8.00857,20.3496 17.47003,40.1018 25.71429,60.3571 5.56795,13.6799 12.51031,27.0107 15.71428,41.4286 2.11765,9.5294 -0.8838,19.5639 0,29.2857 0.32046,3.525 1.87025,6.8961 3.57143,10 5.11285,9.3287 11.19047,18.0953 16.78571,27.1429',
  'm 678.92857,1289.8571 c 4.40476,6.0714 8.66661,12.2492 13.21428,18.2143 4.62154,6.062 9.27922,12.109 14.28572,17.8572 4.64545,5.3337 9.47394,10.529 14.64285,15.3571 5.68095,5.3064 11.07669,11.1979 17.85715,15 6.20679,3.4804 13.28464,5.6428 20.35714,6.4286 3.03277,0.337 6.80359,-0.7271 8.57143,-3.2143 1.74725,-2.4582 4.41201,-6.6035 7.14286,-6.4286 14.77192,0.946 29.07029,4.8871 43.57142,7.8572 7.76801,1.5778 13.92185,4.6617 21.07143,2.5 5.05062,-1.5063 10,-3.3333 15,-5',
  'm 855.35714,1357.7143 c 9.03051,-5.0824 12.26081,-10.2265 17.85714,-19.2858 9.51998,-21.181 20.28292,-33.0035 36.42857,-49.2856 6.49284,-6.602 12.53499,-13.7082 19.64286,-19.6429 10.39378,-8.6371 22.22751,-13.8982 34.28571,-17.1429 8.30953,-1.3675 16.04888,-1.2742 21.42857,-7.8571 9.23026,-11.536 8.91739,-27.7284 11.42858,-40.3571 3.51317,-26.3414 13.61613,-50.4019 21.42853,-73.5715 3.7033,-11.11 7.7777,-22.1481 10.3572,-33.5714 3.6596,-27.6102 2.6024,-52.8661 -11.0714,-75.3571 -7.445,-12.0103 -16.1321,-23.57417 -26.78576,-32.85718 -27.2111,-24.36563 -54.84715,-24.15218 -86.42857,-28.92857 -26.59568,-4.23176 -59.6595,-4.51018 -81.42858,-13.21429 -10.17791,-5.30056 -16.13195,-16.64208 -14.28571,-27.14285 2.10874,-11.13413 7.08722,-21.5343 11.07143,-32.14286 5.89927,-15.70771 12.65175,-31.08569 18.57143,-46.78572 11.6631,-25.81324 15.08838,-48.61491 20,-74.28571 3.29205,-17.00894 6.94827,-37.90761 11.42857,-54.64286 3.64301,-13.6077 8.6388,-26.89953 14.64286,-39.64285 12.24867,-24.11538 30.57585,-40.4753 37.5,-67.14286',
  'm 921.42857,603.78572 c 3.92857,-13.21429 8.04204,-26.375 11.78571,-39.64286 6.30195,-22.33463 12.35356,-44.73967 18.34941,-67.15841 5.84499,-21.85469 12.85699,-43.45256 17.17259,-65.65992 3.78446,-19.47418 5.99197,-39.2848 7.07107,-59.09392 1.28208,-23.53533 0.5419,-56.43225 0,-70.71068 -2.87991,-13.6563 -14.2353,-8.66499 -26.76904,-9.09138 -20.75978,-0.70622 -66.77047,4.42872 -88.38835,7.57615 -22.35204,3.25432 -43.43656,8.08122 -65.65992,12.12183',
  'm 793.60109,313.26296 c -14.77348,3.61971 -30.87967,7.60263 -45.07806,10.9854 -16.23696,3.86846 -36.67325,8.35045 -52.52793,10.35406 -14.8807,1.88053 -26.58104,1.31365 -39.39595,1.2627 -9.06632,-0.036 -18.69053,-4.09202 -26.76905,-8.20749 -10.08114,-5.13567 -18.54367,-11.29824 -26.76903,-19.06663 -7.05363,-6.66176 -10.39588,-10.07348 -15.90991,-18.05647 -5.79257,-8.38626 -12.21156,-19.93441 -17.29885,-28.53682 -5.30024,-8.96247 -12.87731,-18.62847 -20.58187,-25.63262 -5.46998,-4.97271 -12.75121,-8.89183 -19.57171,-11.74302 -13.80364,-5.77038 -36.34675,-13.98145 -41.79505,-15.02602 -9.66119,-1.85229 -34.20494,-0.28519 -46.46702,-0.50508 -7.11097,0.48939 -5.17342,-7.51106 -6.18718,-11.49049 -3.52862,-13.85125 -10.20231,-33.82791 -14.01587,-47.60343 -4.43624,-16.02479 -10.15304,-36.07704 -13.8896,-46.34075 -1.09277,-3.00166 -0.8951,-2.40921 -4.79822,-3.53553 -4.49072,-1.295886 -15.10384,-3.951486 -17.67767,-6.187187 -6.32999,-5.498413 -10.4639,-10.010702 -26.76905,-33.335033 -2.59728,-3.715372 -6.26275,-9.336013 -6.81852,-10.227794 -2.83727,-4.552662 -9.7856,-4.284776 -12.87945,0.378807 -5.6209,8.472803 -13.53143,26.102004 -19.44544,38.006988 -6.0504,12.179559 -11.16365,24.452019 -16.41497,36.996839 -3.84163,9.17723 -8.24686,18.18482 -11.99557,27.40039 -4.33607,10.65949 -7.58732,20.97628 -12.37437,31.441 -2.43647,7.68767 -16.66148,16.27892 -4.29314,20.83439 3.87224,2.82192 12.07974,2.18866 17.04632,2.14657'
]

export default () => {
  const router = useRouter()
  const { cur_stage, x = '0', y = '0', w = '1536', h = '1792' } = router.query
  const chevron_scale = parseInt(h) / 1200

  return (
    <main className="max-h-screen bg-black p-0">
      <div className="max-h-screen container mx-auto">
        <button
          onClick={() => router.back()}
          className="absolute z-10 bottom-0 left-0 mx-2 my-2 bg-white px-4 py-1 border-2 border-black shadow px-4 py-2 text-sm font-medium rounded-full inline-flex items-center"
        >
          <span>&larr; Back</span>
        </button>
        <svg
          className="absolute top-0 left-0 max-h-screen"
          viewBox={`${x} ${y} ${w} ${h}`}
        >
          <image
            x="0"
            y="0"
            href="/seaton_large.png"
            width="1536"
            height="1792"
          />
          {stages
            .filter((stage, index) => index == cur_stage)
            .map((stage) => {
              return (
                <path
                  strokeWidth="2"
                  stroke="#43dd00"
                  fill="#43dd00"
                  fillOpacity="0.5"
                  d={stage}
                />
              )
            })}
          {stages
            .filter((stage, index) => index != cur_stage)
            .map((stage) => {
              return (
                <path
                  strokeWidth="2"
                  stroke="#ffa400"
                  fill="#ffa400"
                  fillOpacity="0.5"
                  d={stage}
                />
              )
            })}
          <path
            id="route_anim"
            fill="none"
            stroke="none"
            d={anim_paths[cur_stage]}
          />
          <path
            id="chevron"
            d="M-30,-25 L0,0 -30,25"
            fill="none"
            stroke="#43dd00"
            strokeLinecap="round"
            strokeLinejoin="round"
            strokeWidth="12"
            transform={`scale(${chevron_scale})`}
          />
          <animateMotion
            xlinkHref="#chevron"
            dur="10s"
            begin="0s"
            fill="freeze"
            rotate="auto"
            repeatCount="indefinite"
          >
            <mpath xlinkHref="#route_anim" />
          </animateMotion>
        </svg>
      </div>
    </main>
  )
}
